#!/usr/bin/env ruby

require 'git/contest/common'
require 'git/contest/version'
require 'trollop'

def usage
  puts "usage: git contest <subcommand>"
  puts ""
  puts "Available subcommands are:"
  puts "  init        Initialize a new git repo."
  puts "  start       Start a new feature branch."
  puts "  finish      Finish a feature branch."
  puts "  submit      Submit a solution."
  puts ""
  puts "Try 'git contest <subcommand> help' for details."
end

SUB_COMMANDS = %w(init start finish submit)
global_opts = Trollop::options do
  version "git-contest #{Git::Contest::VERSION} (c) 2013 Hiroyuki Sano"
  stop_on SUB_COMMANDS
end

cmd = ARGV.shift
case cmd
when "init", "start", "finish", "submit"
  puts "git-contest-#{cmd} #{ARGV}"
  system "git-contest-#{cmd} #{ARGV.join(' ')}"
else
  usage
end


